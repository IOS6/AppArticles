## 写在前面  
在[一名一线开发对于App架构和组件化的思考](https://github.com/Lobster-King/AppArticles/blob/master/Architecture/%E4%B8%80%E5%90%8D%E4%B8%80%E7%BA%BF%E5%BC%80%E5%8F%91%E5%AF%B9%E4%BA%8EApp%E6%9E%B6%E6%9E%84%E5%92%8C%E7%BB%84%E4%BB%B6%E5%8C%96%E7%9A%84%E6%80%9D%E8%80%83.md)  文章中，我们主要站在了软件工程的角度上，分析了做App架构和组件化时该如何下手，其中也介绍了路由和服务模块在组件化中扮演的重要角色。本文，我们将进行实操，一步步实现一个模块间通信的服务组件。  

>这里剖出一个**微服务**的概念，在Java Spring框架中，微服务是个很火的东西。鉴于笔者对于Java一概不知，所以仅仅站在作为一个App开发的角度去认知它。微服务确切的说是某个功能模块的子集，它把**单体架构**中的某些功能拆离出来，然后开启独立进程来给其他模块提供服务，通信方式一般是标准REST API来进行。这样的做的话有几个好处。  
>
> **1.独立进程，独立部署。不会因为单体架构机器挂掉后，导致所有服务不可用。**  
> **2.避免项目过度臃肿。**  
> **3.扩展性强，可以多个微服务组成集群。**

对于Java Spring框架，这里就不做过多赘述了。推荐一个比较形象的描述微服务的漫画，感兴趣的可以看一下，这样可以对整个系统上下游架构会有更深的理解。  

[漫画说：什么是微服务？](http://www.sohu.com/a/221400925_100039689)  


## 服务组件在App里应用场景

举个栗子🌰。  
还是拿登录模块举例子。。。  

![](https://raw.githubusercontent.com/Lobster-King/AppArticles/master/Architecture/young.jpg)  

在之前的分享中我们知道，登录模块一般位于App分层架构中的通用模块层。假如说A模块要调用登录模块中的获取登录态的方法，在没有服务组件的情况下，我们一般会直接把登录整个模块import进来，这样做难免有点小尴尬（**仅仅是获取个登录态，我就要把整个登录模块import进来，这样就耦合在一起**）。  

再打个很形象的比喻。。。  
虽说结婚不是两个人的事情，而是两个家庭的事情，但是结婚后你老丈人和丈母娘一起打包过来跟你过了，你是什么感受？那肯定是脸上笑嘻嘻，心里mmp啊。我是要跟你女儿过日子的啊，咋都打包给我了？？？😄。  

![](https://raw.githubusercontent.com/Lobster-King/AppArticles/master/Architecture/sudaqiang.jpeg)  

所以通过以上的生动的示例，我们总结出了服务组件在App里的应用场景。  

* 模块间更小粒度组件间的通信场景。
* 开放一个模块中某些特定功能API场景，使模块中的子组件“微服务化”。
* 组件化之间进行解耦的应用场景。  

## 编写服务组件







